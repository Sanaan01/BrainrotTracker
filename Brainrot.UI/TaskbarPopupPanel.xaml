<UserControl
    x:Class="Brainrot.UI.TaskbarPopupPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="600" d:DesignWidth="260">

    <Border x:Name="RootBorder" 
            Background="#FF1E1E1E"
            CornerRadius="10" 
            Padding="18,16" 
            BorderThickness="1" 
            BorderBrush="#40FFFFFF">
        
        <StackPanel Spacing="16">
            <!-- Header -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Brainrot Tracker" 
                           FontSize="14" 
                           FontWeight="SemiBold" 
                           Foreground="#FFFFFFFF"
                           VerticalAlignment="Center"/>
                <Button x:Name="OpenAppButton" 
                        Grid.Column="1"
                        Click="OpenMain_Click"
                        Background="#25FFFFFF"
                        BorderThickness="0"
                        Padding="8,6"
                        CornerRadius="5"
                        ToolTipService.ToolTip="Open Dashboard">
                    <FontIcon Glyph="&#xE740;" FontSize="12" Foreground="#DDFFFFFF"/>
                </Button>
            </Grid>

            <!-- Status Circle -->
            <StackPanel HorizontalAlignment="Center" Spacing="8">
                <Grid Width="90" Height="90">
                    <Ellipse Fill="#7B68A8" Width="90" Height="90"/>
                    <TextBlock x:Name="StatusEmoji" 
                               Text="??" 
                               FontSize="36"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               Foreground="White"/>
                </Grid>
                <TextBlock x:Name="FocusPercentText" 
                           Text="Rot Level: 32%" 
                           FontSize="13"
                           Foreground="#BBFFFFFF"
                           HorizontalAlignment="Center"/>
            </StackPanel>

            <!-- Category Cards -->
            <StackPanel Spacing="8">
                <!-- Focus - Teal/Cyan matching dashboard Focus Time card -->
                <Border Background="#1F3D4D4D" CornerRadius="8" Padding="14,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="8" Height="8" Fill="#26A69A" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Focus" FontSize="14" Foreground="#FFFFFFFF" Margin="10,0,0,0" VerticalAlignment="Center"/>
                        <TextBlock x:Name="FocusTime" Grid.Column="2" Text="33m 48s" FontSize="14" Foreground="#26A69A" FontWeight="SemiBold"/>
                    </Grid>
                </Border>

                <!-- Neutral - Gray matching dashboard Neutral Time card -->
                <Border Background="#1F3D3D45" CornerRadius="8" Padding="14,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="8" Height="8" Fill="#78909C" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Neutral" FontSize="14" Foreground="#FFFFFFFF" Margin="10,0,0,0" VerticalAlignment="Center"/>
                        <TextBlock x:Name="NeutralTime" Grid.Column="2" Text="6m 39s" FontSize="14" Foreground="#78909C" FontWeight="SemiBold"/>
                    </Grid>
                </Border>

                <!-- Rot - Pink/Red matching dashboard Rot Time card -->
                <Border Background="#1F4D3D45" CornerRadius="8" Padding="14,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Ellipse Width="8" Height="8" Fill="#E57373" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Rot" FontSize="14" Foreground="#FFFFFFFF" Margin="10,0,0,0" VerticalAlignment="Center"/>
                        <TextBlock x:Name="RotTime" Grid.Column="2" Text="15m 32s" FontSize="14" Foreground="#E57373" FontWeight="SemiBold"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Progress Bar -->
            <Grid Height="5" CornerRadius="2.5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="FocusCol" Width="3*"/>
                    <ColumnDefinition x:Name="NeutralCol" Width="1*"/>
                    <ColumnDefinition x:Name="RotCol" Width="1*"/>
                </Grid.ColumnDefinitions>
                <Border Grid.Column="0" Background="#26A69A" CornerRadius="2.5,0,0,2.5"/>
                <Border Grid.Column="1" Background="#78909C"/>
                <Border Grid.Column="2" Background="#E57373" CornerRadius="0,2.5,2.5,0"/>
            </Grid>
        </StackPanel>
    </Border>
</UserControl>
